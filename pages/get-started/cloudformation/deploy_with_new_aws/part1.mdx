# Part 1: Deploy ReadySet

For the next steps, use the ReadySet CloudFormation template link we sent you.


## Launch ReadySet via CloudFormation
### Step 1: Specify Template
The first page is pre-configured for you, click `Next` at the bottom of the page. On the next page, fill in the blank fields using the guidelines below.
### Step 2: Specify Stack Details
Fill in the fields using the guidance below.
| Parameter      | Default value(s) | Guidance |
| ------- | ------- | ----------- |
| `Stack name` |   | We recommend naming your stack something like "ReadySet".   |
| `VPCCIDR` | 10.0.0.0/16 | This field is automatically filled in. This value will be the CIDR of the VPC created by this CloudFormation stack.|
| `VPCCreateNATGateways` | true | Set this to false if you want to airgap your ReadySet deployment. |
| `PrivateSubnet<1, 2, 3>CIDR` | 10.0.0.0/19, 10.0.32.0/19, 10.0.64.0/19 | This field is automatically filled in. This value will be the CIDRs of the private subnets created by this CloudFormation stack. |
| `PublicSubnet<1, 2, 3>CIDR` | 10.0.128.0/20, 10.0.144.0/20, 10.0.160.0/20 | This field is automatically filled in. This value will be the CIDRs of the public subnets created by this CloudFormation stack. |
| `AvailabilityZones` |   | Include all three availability zones for the AWS region you are deploying in. This allows ReadySet to ensure high availability. |
| `KeyPairName` |   | Paste in the name of the key you obtained in Part 0. |
| `AccessCIDR` |   | Input the CIDR of the IP addresses that will have access to the ReadySet VPC. |
| `ConsulEc2RetryJoinTagKey` | ReadySetConsulNodeType | This field is automatically filled in. This is used to tag instances that are part of the Consul server quorum. |
| `ConsulEc2RetryJoinTagValue` | Server | This field is automatically filled in. This is used to tag instances that are part of the Consul server quorum. |
| `DatabaseStorageType` | gp2  | This field is automatically filled in. This is the database storage type defined in AWS RDS. |
| `DatabaseInstanceClass` | db.t3.medium  | This field is automatically filled in. This is the instance class used for the AWS RDS database. |
| `DatabaseAllocatedStorage` | 20  | This field is automatically filled in. This is the storage size in GB allocated for your AWS RDS database. This value may be changed later, but will require some RDS downtime. |
| `DatabaseName` |   | Set this to the name of the new database you would like inside of the AWS RDS database server instance. |
| `DatabaseUsername` |   | Set this to the username you would like to use to log into the AWS RDS database as a superuser. |
| `DatabasePassword` |   | Set this to the password you would like to use to log into the AWS RDS database as a superuser. |
| `ReadySetS3BucketName` | User-dependent  | This field is automatically filled in. |
| `ReadySetS3Prefix` | User-dependent  | This field is automatically filled in. |
| `ReadySetAdapterInstanceType` |   | We recommend setting this to c5.4xlarge for production workloads. This can be changed at a later date but downtime will be required. |
| `ReadySetAdapterNodes` |   | We recommend setting this to at least 3 for high-availability. |
| `ReadySetServerInstanceType` |   | We recommend setting this to c5.4xlarge for production workloads. This can be changed at a later date but downtime will be required. |
| `ReadySetServerNodes` |   | We recommend setting this to at least 3 for high-availability. |
| `ReadySetServerVolumeSizeGB` |   | This is the volume size for storing the base tables. We recommend setting this to be 2x the storage size of your RDS instance. |
| `ReadySetMemoryLimitGB` |   | This is the memory limit for ReadySet server instances in GB. We recommend setting this to 80% of the total memory on the selected ReadySetServerInstanceType (e.g. this would be 26GB for c5.4xlarge). This can also be set to 0 for no limit. |
| `ReadySetMonitorInstanceType` |   | We recommend setting this to c5.4xlarge for production workloads. This can be changed at a later date but downtime will be required. |
| `ReadySetDeploymentName` |   | Set this to the Stack name you inputted at the top of this page. |


### Step 3: Configure Stack Options
Fill in your desired stack options. We highly recommend selecting "Preserve successfully provisioned resources" to allow ReadySet to help debug any deployment issues that may arise.

These options are dependent on your company's AWS security policies. We currently do not have a list of all IAM permissions required to deploy these stacks.

### Step 4: Review
This page provides a review of your ReadySet stack setup configurations. Accept the Capabilities acknowledgement and then click “Create Stack”. 

### Step 5: Obtain values for next steps
Once the ReadySet stack has reached the `CREATE_COMPLETED` state, go to the Outputs tab in the ReadySet stack to obtain the following values. Store these values in a temporary text file for use in further steps:
- The IP Address of the Bastion host 
- The VPC Endpoint Service: `ReadySetMySQLVPCEndpointService`

Logs will be uploaded to CloudWatch in a Log Group with the same name as the CloudFormation stack. These logs will be in a Log Stream named `readyset`.